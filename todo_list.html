<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë°˜ë³„ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸</title>
<style>
body {
  font-family:'Segoe UI', sans-serif;
  background:#f5f7fb;
  padding:20px;
}

h2 { margin-bottom:5px; }

a {
  text-decoration:none;
  color:#4a5bdc;
  font-weight:600;
}

.class-buttons button {
  margin:4px;
  padding:6px 14px;
  border:none;
  border-radius:20px;
  background:#e0e4ff;
  cursor:pointer;
  font-weight:600;
}

.class-buttons button.active {
  background:#4a5bdc;
  color:white;
}

table {
  width:100%;
  border-collapse:collapse;
  background:white;
  margin-top:15px;
}

th, td {
  border:1px solid #ccc;
  padding:6px;
  text-align:center;
  font-size:14px;
}

th {
  background:#eef1ff;
}

input[type="text"] {
  width:90%;
  padding:4px;
}
</style>
</head>
<body>

<h2>ğŸ“ ë°˜ë³„ íˆ¬ë‘ë¦¬ìŠ¤íŠ¸</h2>
<a href="index.html">â† í™ˆìœ¼ë¡œ</a>

<!-- ë°˜ ì„ íƒ -->
<div class="class-buttons" id="classButtons"></div>

<!-- íˆ¬ë‘ í…Œì´ë¸” -->
<table>
  <thead>
    <tr>
      <th>ë²ˆí˜¸</th>
      <th>í•  ì¼</th>
      <th>ì™„ë£Œ</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
let currentClass = "1ë°˜";
const tableBody = document.getElementById("tableBody");
const classButtons = document.getElementById("classButtons");

/* ë°˜ ë²„íŠ¼ */
for(let i=1;i<=7;i++){
  const btn=document.createElement("button");
  btn.innerText=i+"ë°˜";
  if(i===1) btn.classList.add("active");
  btn.onclick=()=>switchClass(i+"ë°˜",btn);
  classButtons.appendChild(btn);
}

function switchClass(cls, btn){
  currentClass=cls;
  document.querySelectorAll(".class-buttons button")
    .forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  render();
}

/* ë°ì´í„° */
function getData(){
  let data = JSON.parse(localStorage.getItem("todo_"+currentClass));
  if(!data){
    data=[];
    for(let i=1;i<=24;i++){
      data.push({
        number:i,
        task:"",
        done:false
      });
    }
    saveData(data);
  }
  return data;
}

function saveData(data){
  localStorage.setItem("todo_"+currentClass, JSON.stringify(data));
}

/* í•  ì¼ ì…ë ¥ */
function updateTask(index, value){
  const data=getData();
  data[index].task=value;
  saveData(data);
}

/* ì²´í¬ */
function toggleDone(index){
  const data=getData();
  data[index].done=!data[index].done;
  saveData(data);
}

/* ë Œë” */
function render(){
  const data=getData();
  tableBody.innerHTML="";

  data.forEach((s, i)=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>${s.number}</td>
      <td>
        <input type="text"
          value="${s.task}"
          placeholder="í•  ì¼ ì…ë ¥"
          oninput="updateTask(${i}, this.value)">
      </td>
      <td>
        <input type="checkbox"
          ${s.done?"checked":""}
          onclick="toggleDone(${i})">
      </td>
    `;
    tableBody.appendChild(tr);
  });
}

render();
</script>

</body>
</html>
