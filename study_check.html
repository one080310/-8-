<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ììŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
<style>
body {
  font-family:'Segoe UI', sans-serif;
  background:#f5f7fb;
  padding:20px;
}

h2 { margin-bottom:6px; }

a {
  text-decoration:none;
  color:#4a5bdc;
  font-weight:600;
}

.class-buttons button {
  margin:4px;
  padding:6px 14px;
  border:none;
  border-radius:20px;
  background:#e0e4ff;
  cursor:pointer;
  font-weight:600;
}

.class-buttons button.active {
  background:#4a5bdc;
  color:white;
}

table {
  width:100%;
  border-collapse:collapse;
  background:white;
  margin-top:15px;
  font-size:13px;
}

th, td {
  border:1px solid #ccc;
  padding:4px;
  text-align:center;
}

th {
  background:#eef1ff;
}
</style>
</head>
<body>

<h2>ğŸ“˜ ììŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
<a href="index.html">â† í™ˆìœ¼ë¡œ</a>

<!-- ë°˜ ì„ íƒ -->
<div class="class-buttons" id="classButtons"></div>

<table>
  <thead>
    <tr>
      <th rowspan="2">ë²ˆí˜¸</th>
      <th colspan="15">ììŠµ ì²´í¬</th>
    </tr>
    <tr>
      <th>ì›”8</th><th>ì›”ì•¼1</th><th>ì›”ì•¼2</th>
      <th>í™”8</th><th>í™”ì•¼1</th><th>í™”ì•¼2</th>
      <th>ìˆ˜8</th><th>ìˆ˜ì•¼1</th><th>ìˆ˜ì•¼2</th>
      <th>ëª©8</th><th>ëª©ì•¼1</th><th>ëª©ì•¼2</th>
      <th>ê¸ˆ8</th><th>ê¸ˆì•¼1</th><th>ê¸ˆì•¼2</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
let currentClass = "1ë°˜";
const tableBody = document.getElementById("tableBody");
const classButtons = document.getElementById("classButtons");

/* ë°˜ ë²„íŠ¼ */
for(let i=1;i<=7;i++){
  const btn=document.createElement("button");
  btn.innerText=i+"ë°˜";
  if(i===1) btn.classList.add("active");
  btn.onclick=()=>switchClass(i+"ë°˜",btn);
  classButtons.appendChild(btn);
}

function switchClass(cls, btn){
  currentClass=cls;
  document.querySelectorAll(".class-buttons button")
    .forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  render();
}

/* ë°ì´í„° */
function getData(){
  let data = JSON.parse(localStorage.getItem("study_"+currentClass));
  if(!data){
    data=[];
    for(let i=1;i<=24;i++){
      data.push({
        number:i,
        checks:Array(15).fill(false)
      });
    }
    saveData(data);
  }
  return data;
}

function saveData(data){
  localStorage.setItem("study_"+currentClass, JSON.stringify(data));
}

/* ì²´í¬ */
function toggleCheck(sIndex, cIndex){
  const data=getData();
  data[sIndex].checks[cIndex]=!data[sIndex].checks[cIndex];
  saveData(data);
}

/* ë Œë” */
function render(){
  const data=getData();
  tableBody.innerHTML="";

  data.forEach((student, sIndex)=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${student.number}</td>`;

    student.checks.forEach((checked,cIndex)=>{
      tr.innerHTML+=`
        <td>
          <input type="checkbox"
            ${checked?"checked":""}
            onclick="toggleCheck(${sIndex},${cIndex})">
        </td>`;
    });

    tableBody.appendChild(tr);
  });
}

render();
</script>

</body>
</html>
